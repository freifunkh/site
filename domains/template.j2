{
	--
	-- this file is automatically generated by template.j2
	--

	domain_names = {
{% for code, name in names.items() %}
		{{ code }} = '{{ name }}',
{% endfor %}
	},

	-- sha256('ffh-dom{{id}}')
	domain_seed = '{{ seed }}',

	prefix4 = '10.{{ id if id != 0 else 2 }}.0.0/16',
	prefix6 = 'fdca:ffee:8:{{ id }}::/64',

	dns = { servers = {
		'fdca:ffee:8:{{ id }}::1001',
		'fdca:ffee:8:{{ id }}::2001',
		'fdca:ffee:8:{{ id }}::3001',
		'fdca:ffee:8:{{ id }}::4001',
		'fdca:ffee:8:{{ id }}::5001',
		'fdca:ffee:8:{{ id }}::6001',
		'fdca:ffee:8:{{ id }}::7001',
		'fdca:ffee:8:{{ id }}::8001',
		'fdca:ffee:8:{{ id }}::9001',
		'fdca:ffee:8:{{ id }}::a001',
	} },

{% if id == 0 %}
	mesh = {
		vxlan = false,
		batman_adv = {
			routing_algo = 'BATMAN_IV',
		},
	},
{% else %}
	mesh = {
		batman_adv = {
			routing_algo = 'BATMAN_IV',
		},
	},
{% endif %}

	next_node = {
		ip4 = '10.{{ id if id != 0 else 2 }}.0.1',
		ip6 = 'fdca:ffee:8:{{ id }}::1',
		mac = '16:41:95:40:f8:dc',
		name = { 'nextnode', 'nn', 'nextnode.ffh.zone', 'n.ffh.zone' },
	},

	wifi24 = {
		ap = { ssid = 'hannover.freifunk.net', },
		mesh = { id = 'ffh-mesh{{ '' if id == 0 else '-' + str(id) }}', },
	},

	wifi5 = {
		ap = { ssid = 'hannover.freifunk.net', },
		mesh = { id = 'ffh-mesh{{ '' if id == 0 else '-' + str(id) }}', },
	},

	mesh_vpn = { fastd = { groups = { backbone = { peers = {
		sn01 = {
			key = 'c02dccaec12dd0ac430e3a7ec3601e1fbf04d018d6cec0d061bac042e635ce8a',
			remotes = {'"sn01.s.ffh.zone" port {{ port }}'},
		},
		sn02 = {
			key = 'f17feb4e71d11038edb1d4f50b3edc2a2ee856deb5f9fe022ef004f877dc8653',
			remotes = {'"sn02.s.ffh.zone" port {{ port }}'},
		},
		sn03 = {
			key = '643e42f527f459a1be897ab43174c4fc7d1f1dff497a203f487d567368e37f3d',
			remotes = {'"sn03.s.ffh.zone" port {{ port }}'},
		},
		sn04 = {
			key = '88c16554cc3adbc871e6dd79e237139586b1933b07b71409280677b92d888d44',
			remotes = {'"sn04.s.ffh.zone" port {{ port }}'},
		},
		sn05 = {
			key = '2909c134477bed6556dd7577a751a303f5a5aec7e43de576987de175c23fd840',
			remotes = {'"sn05.s.ffh.zone" port {{ port }}'},
		},
		sn06 = {
			key = '52b6a37bf738610736863577a663da10c195dfd79e4fc0f75a6e1b4b3454d66c',
			remotes = {'"sn06.s.ffh.zone" port {{ port }}'},
		},
		sn07 = {
			key = 'd85cb4f5a0711a97e10dbba206bea5e4a16034126b1cea920673beb7744fcd6f',
			remotes = {'"sn07.s.ffh.zone" port {{ port }}'},
		},
		sn08 = {
			key = '30b128461084e45c4f8ee9bc50d93cf4a93b12652e31487492c05f764057567d',
			remotes = {'"sn08.s.ffh.zone" port {{ port }}'},
		},
		sn09 = {
			key = '993f94b586f91a0a678db904fc26a3e60c23c513a0bfd4451954408e89d00dda',
			remotes = {'"sn09.s.ffh.zone" port {{ port }}'},
		},
		sn10 = {
			key = '1b9a4d020316aa4a6d7c5dcc15f054afff010309b75ff6721dc8a66c20270b01',
			remotes = {'"sn10.s.ffh.zone" port {{ port }}'},
		},
	} } } },

	wireguard = {
		peers = {
			sn01 = {
				public_key = 'SN01+KjtjzTXbiKuBww17wAIurFHpll3kod00hfpMX0=',
				endpoint = 'sn01.s.ffh.zone:{{ wgport }}'
			},
			sn05 = {
				public_key = 'SN05iWyy3aNeExyQzVxIuY0WmrS9hLqs4Muyqo/EWlw=',
				endpoint = 'sn05.s.ffh.zone:{{ wgport }}'
			},
			sn09 = {
				public_key = 'SN09/Ex8Lgpa9x+UEd+Cop1S2zD/LksexKF5tLoBTSY=',
				endpoint = 'sn09.s.ffh.zone:{{ wgport }}'
			},
			sn10 = {
				public_key = 'SN10jGGoMekUFtCenlM1RMbnFh3fqJnhjTXnpNWqJ1A=',
				endpoint = 'sn10.s.ffh.zone:{{ wgport }}'
			},
		},
	}, },

{% if hide %}
	hide_domain = true,
{% else %}
	-- primary domain name "Domain {{ id }}" should be hidden in config mode
	hide_domain = { 'dom{{ id }}' },
{% endif %}

}
