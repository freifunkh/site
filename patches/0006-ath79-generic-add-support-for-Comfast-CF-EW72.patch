From 378a0669a26fa4a1a52e6fee9384a413c4ca3e89 Mon Sep 17 00:00:00 2001
From: Sebastian Schaper <openwrt@sebastianschaper.net>
Date: Thu, 29 Apr 2021 20:19:57 +0200
Subject: [PATCH] ath79-generic: add support for Comfast CF-EW72

- add to `is_outdoor_device`

Signed-off-by: Sebastian Schaper <openwrt@sebastianschaper.net>
---
 package/gluon-core/luasrc/usr/lib/lua/gluon/platform.lua | 1 +
 targets/ath79-generic                                    | 9 +++++++++
 2 files changed, 10 insertions(+)

diff --git a/package/gluon-core/luasrc/usr/lib/lua/gluon/platform.lua b/package/gluon-core/luasrc/usr/lib/lua/gluon/platform.lua
index 5e80f093..379d3553 100644
--- a/package/gluon-core/luasrc/usr/lib/lua/gluon/platform.lua
+++ b/package/gluon-core/luasrc/usr/lib/lua/gluon/platform.lua
@@ -52,6 +52,7 @@ function M.is_outdoor_device()
 		return true
 
 	elseif M.match('ath79', 'generic', {
+		'comfast,cf-ew72',
 		'devolo,dvl1750x',
 		'plasmacloud,pa300',
 		'plasmacloud,pa300e',
diff --git a/targets/ath79-generic b/targets/ath79-generic
index b3000819..a0aae14e 100644
--- a/targets/ath79-generic
+++ b/targets/ath79-generic
@@ -30,6 +30,15 @@ local ATH10K_PACKAGES_QCA9980 = {
 	'-ath10k-firmware-qca99x0-ct',
 }
 
+
+-- Comfast
+
+device('comfast-cf-ew72', 'comfast_cf-ew72', {
+	packages = ATH10K_PACKAGES_QCA9888,
+	factory = false,
+})
+
+
 -- devolo
 
 device('devolo-wifi-pro-1200e', 'devolo_dvl1200e', {
-- 
2.25.1

